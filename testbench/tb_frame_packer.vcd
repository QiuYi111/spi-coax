$date
	Thu Nov 20 16:27:12 2025
$end
$version
	Icarus Verilog
$end
$timescale
	1ps
$end
$scope module tb_frame_packer $end
$var wire 1 ! tx_bit_valid $end
$var wire 1 " tx_bit $end
$var wire 8 # frame_count [7:0] $end
$var reg 1 $ clk_spi $end
$var reg 1 % clk_sys $end
$var reg 32 & din [31:0] $end
$var reg 1 ' din_valid $end
$var reg 1 ( rst_n $end
$var reg 1 ) tx_bit_ready $end
$scope module u_dut $end
$var wire 1 $ clk_spi $end
$var wire 1 % clk_sys $end
$var wire 32 * convert_data [31:0] $end
$var wire 32 + din [31:0] $end
$var wire 1 ' din_valid $end
$var wire 8 , frame_count [7:0] $end
$var wire 1 ( rst_n $end
$var wire 1 ) tx_bit_ready $end
$var wire 1 - fifo_full $end
$var wire 1 . fifo_empty $end
$var wire 32 / fifo_dout [31:0] $end
$var wire 8 0 convert_crc [7:0] $end
$var parameter 8 1 CRC_POLY $end
$var parameter 2 2 IDLE $end
$var parameter 2 3 LOAD $end
$var parameter 2 4 SEND $end
$var parameter 8 5 SYNC_BYTE $end
$var reg 6 6 bit_cnt [5:0] $end
$var reg 1 7 fifo_rd_en $end
$var reg 8 8 frame_cnt [7:0] $end
$var reg 1 9 sending $end
$var reg 56 : shift_reg [55:0] $end
$var reg 2 ; state [1:0] $end
$var reg 1 " tx_bit $end
$var reg 1 ! tx_bit_valid $end
$scope function calc_crc8 $end
$var reg 8 < cnt [7:0] $end
$var reg 8 = crc [7:0] $end
$var reg 32 > data [31:0] $end
$var reg 48 ? msg [47:0] $end
$var integer 32 @ i [31:0] $end
$upscope $end
$scope module u_async_fifo $end
$var wire 1 % clk_rd $end
$var wire 1 $ clk_wr $end
$var wire 32 A din [31:0] $end
$var wire 1 7 rd_en $end
$var wire 5 B rd_ptr_gray_next [4:0] $end
$var wire 1 ( rst_rd_n $end
$var wire 1 ( rst_wr_n $end
$var wire 1 C valid $end
$var wire 1 ' wr_en $end
$var wire 5 D wr_ptr_gray_next [4:0] $end
$var wire 5 E wr_ptr_bin_next [4:0] $end
$var wire 5 F used_words_wr [4:0] $end
$var wire 5 G rd_ptr_bin_next [4:0] $end
$var wire 1 - full $end
$var wire 1 . empty $end
$var wire 32 H dout [31:0] $end
$var wire 1 I almost_full $end
$var parameter 32 J ADDR_WIDTH $end
$var parameter 37 K ALMOST_FULL_THRESHOLD $end
$var parameter 32 L DATA_WIDTH $end
$var parameter 36 M FIFO_DEPTH $end
$var parameter 33 N PTR_WIDTH $end
$var reg 32 O rd_data_reg [31:0] $end
$var reg 5 P rd_gray_wr1 [4:0] $end
$var reg 5 Q rd_gray_wr2 [4:0] $end
$var reg 5 R rd_ptr_bin [4:0] $end
$var reg 5 S rd_ptr_bin_wr [4:0] $end
$var reg 5 T rd_ptr_gray [4:0] $end
$var reg 1 U rd_valid_reg $end
$var reg 5 V wr_gray_rd1 [4:0] $end
$var reg 5 W wr_gray_rd2 [4:0] $end
$var reg 5 X wr_ptr_bin [4:0] $end
$var reg 5 Y wr_ptr_gray [4:0] $end
$var integer 32 Z i [31:0] $end
$upscope $end
$upscope $end
$upscope $end
$enddefinitions $end
$comment Show the parameter values. $end
$dumpall
b101 N
b10000 M
b100000 L
b1110 K
b100 J
b10101010 5
b10 4
b1 3
b0 2
b111 1
$end
#0
$dumpvars
b11111111111111111111111111111111 Z
b0 Y
b0 X
b0 W
b0 V
0U
b0 T
b0 S
b0 R
b0 Q
b0 P
b0 O
0I
b0 H
b0 G
b0 F
b0 E
b0 D
0C
b0 B
b0 A
b11111111111111111111111111111111 @
b101010100000000000000000000000000000000000000000 ?
b0 >
b11001010 =
b0 <
b0 ;
b0 :
09
b0 8
07
b0 6
b11001010 0
b0 /
1.
0-
b0 ,
b0 +
b0 *
0)
0(
0'
b0 &
0%
0$
b0 #
0"
0!
$end
#5000
1%
#7813
1$
#10000
0%
#15000
1%
#15626
0$
#20000
0%
#23439
1$
#25000
1%
#30000
0%
#31252
0$
#35000
1%
#39065
1$
#40000
0%
#45000
1%
#46878
0$
#50000
0%
#54691
1$
#55000
1%
#60000
0%
#62504
0$
#65000
1%
#70000
0%
#70317
1$
#75000
1%
#78130
0$
#80000
0%
#85000
1%
#85943
1$
#90000
0%
#93756
0$
#95000
1%
#100000
0%
1(
#101569
b1 D
b1 E
1'
b10101010101110111100110011011101 &
b10101010101110111100110011011101 +
b10101010101110111100110011011101 A
1$
#105000
1%
#109382
0$
#110000
0%
#115000
1%
#117195
b1 Y
b1 F
b1 X
b1 D
b1 E
0'
1$
#120000
0%
#125000
b1 V
1%
#125008
0$
#130000
0%
#132821
1$
#135000
0.
b1 W
1%
#140000
0%
#140634
0$
#145000
1%
#148447
1$
#150000
0%
#155000
1%
#156260
0$
#160000
0%
#164073
1$
#165000
1%
#170000
0%
#171886
0$
#175000
1%
#179699
1$
#180000
0%
#185000
1%
#187512
0$
#190000
0%
#195000
1%
#195325
1$
#200000
0%
#203138
0$
#205000
1%
#210000
0%
#210951
1$
#215000
1%
#217195
1)
#218764
0$
#220000
0%
#225000
b1 B
b1 G
17
b1 ;
1%
#226577
1$
#230000
0%
#234390
0$
#235000
b1 B
b11000001 0
b11111111111111111111111111111111 @
b11000001 =
b101010100000000110101010101110111100110011011101 ?
b1 <
b10101010101110111100110011011101 >
1C
1U
b10101010101110111100110011011101 *
b10101010101110111100110011011101 /
b10101010101110111100110011011101 H
b10101010101110111100110011011101 O
1.
b1 T
b1 G
b1 R
b10 ;
19
b1 #
b1 ,
b1 8
b10101010000000000000000000000000000000000000000011001010 :
07
1%
#240000
0%
#242203
b1 P
1$
#245000
b1 6
b1010100000000000000000000000000000000000000000110010100 :
1!
1"
0C
0U
1%
#250000
0%
#250016
0$
#255000
b10 6
b10101000000000000000000000000000000000000000001100101000 :
0"
1!
1%
#257829
b0 F
b1 S
b11111111111111111111111111111111 Z
b1 Q
1$
#260000
0%
#265000
b11 6
b1010000000000000000000000000000000000000000011001010000 :
1"
1!
1%
#265642
0$
#270000
0%
#273455
1$
#275000
b100 6
b10100000000000000000000000000000000000000000110010100000 :
0"
1!
1%
#280000
0%
#281268
0$
#285000
b101 6
b1000000000000000000000000000000000000000001100101000000 :
1"
1!
1%
#289081
1$
#290000
0%
#295000
b110 6
b10000000000000000000000000000000000000000011001010000000 :
0"
1!
1%
#296894
0$
#300000
0%
#304707
1$
#305000
b111 6
b110010100000000 :
1"
1!
1%
#310000
0%
#312520
0$
#315000
b1000 6
b1100101000000000 :
0"
1!
1%
#320000
0%
#320333
1$
#325000
b1001 6
b11001010000000000 :
1!
1%
#328146
0$
#330000
0%
#335000
b1010 6
b110010100000000000 :
1!
1%
#335959
1$
#340000
0%
#343772
0$
#345000
b1011 6
b1100101000000000000 :
1!
1%
#350000
0%
#351585
1$
#355000
b1100 6
b11001010000000000000 :
1!
1%
#359398
0$
#360000
0%
#365000
b1101 6
b110010100000000000000 :
1!
1%
#367211
1$
#370000
0%
#375000
b1110 6
b1100101000000000000000 :
1!
1%
#375024
0$
#380000
0%
#382837
1$
#385000
b1111 6
b11001010000000000000000 :
1!
1%
#390000
0%
#390650
0$
#395000
b10000 6
b110010100000000000000000 :
1!
1%
#398463
1$
#400000
0%
#405000
b10001 6
b1100101000000000000000000 :
1!
1%
#406276
0$
#410000
0%
#414089
1$
#415000
b10010 6
b11001010000000000000000000 :
1!
1%
#420000
0%
#421902
0$
#425000
b10011 6
b110010100000000000000000000 :
1!
1%
#429715
1$
#430000
0%
#435000
b10100 6
b1100101000000000000000000000 :
1!
1%
#437528
0$
#440000
0%
#445000
b10101 6
b11001010000000000000000000000 :
1!
1%
#445341
1$
#450000
0%
#453154
0$
#455000
b10110 6
b110010100000000000000000000000 :
1!
1%
#460000
0%
#460967
1$
#465000
b10111 6
b1100101000000000000000000000000 :
1!
1%
#468780
0$
#470000
0%
#475000
b11000 6
b11001010000000000000000000000000 :
1!
1%
#476593
1$
#480000
0%
#484406
0$
#485000
b11001 6
b110010100000000000000000000000000 :
1!
1%
#490000
0%
#492219
1$
#495000
b11010 6
b1100101000000000000000000000000000 :
1!
1%
#500000
0%
#500032
0$
#505000
b11011 6
b11001010000000000000000000000000000 :
1!
1%
#507845
1$
#510000
0%
#515000
b11100 6
b110010100000000000000000000000000000 :
1!
1%
#515658
0$
#520000
0%
#523471
1$
#525000
b11101 6
b1100101000000000000000000000000000000 :
1!
1%
#530000
0%
#531284
0$
#535000
b11110 6
b11001010000000000000000000000000000000 :
1!
1%
#539097
1$
#540000
0%
#545000
b11111 6
b110010100000000000000000000000000000000 :
1!
1%
#546910
0$
#550000
0%
#554723
1$
#555000
b100000 6
b1100101000000000000000000000000000000000 :
1!
1%
#560000
0%
#562536
0$
#565000
b100001 6
b11001010000000000000000000000000000000000 :
1!
1%
#570000
0%
#570349
1$
#575000
b100010 6
b110010100000000000000000000000000000000000 :
1!
1%
#578162
0$
#580000
0%
#585000
b100011 6
b1100101000000000000000000000000000000000000 :
1!
1%
#585975
1$
#590000
0%
#593788
0$
#595000
b100100 6
b11001010000000000000000000000000000000000000 :
1!
1%
#600000
0%
#601601
1$
#605000
b100101 6
b110010100000000000000000000000000000000000000 :
1!
1%
#609414
0$
#610000
0%
#615000
b100110 6
b1100101000000000000000000000000000000000000000 :
1!
1%
#617227
1$
#620000
0%
#625000
b100111 6
b11001010000000000000000000000000000000000000000 :
1!
1%
#625040
0$
#630000
0%
#632853
1$
#635000
b101000 6
b110010100000000000000000000000000000000000000000 :
1!
1%
#640000
0%
#640666
0$
#645000
b101001 6
b1100101000000000000000000000000000000000000000000 :
1!
1%
#648479
1$
#650000
0%
#655000
b101010 6
b11001010000000000000000000000000000000000000000000 :
1!
1%
#656292
0$
#660000
0%
#664105
1$
#665000
b101011 6
b110010100000000000000000000000000000000000000000000 :
1!
1%
#670000
0%
#671918
0$
#675000
b101100 6
b1100101000000000000000000000000000000000000000000000 :
1!
1%
#679731
1$
#680000
0%
#685000
b101101 6
b11001010000000000000000000000000000000000000000000000 :
1!
1%
#687544
0$
#690000
0%
#695000
b101110 6
b110010100000000000000000000000000000000000000000000000 :
1!
1%
#695357
1$
#700000
0%
#703170
0$
#705000
b101111 6
b1100101000000000000000000000000000000000000000000000000 :
1!
1%
#710000
0%
#710983
1$
#715000
b110000 6
b11001010000000000000000000000000000000000000000000000000 :
1!
1%
#718796
0$
#720000
0%
#725000
b110001 6
b10010100000000000000000000000000000000000000000000000000 :
1"
1!
1%
#726609
1$
#730000
0%
#734422
0$
#735000
b110010 6
b101000000000000000000000000000000000000000000000000000 :
1!
1%
#740000
0%
#742235
1$
#745000
b110011 6
b1010000000000000000000000000000000000000000000000000000 :
0"
1!
1%
#750000
0%
#750048
0$
#755000
b110100 6
b10100000000000000000000000000000000000000000000000000000 :
1!
1%
#757861
1$
#760000
0%
#765000
b110101 6
b1000000000000000000000000000000000000000000000000000000 :
1"
1!
1%
#765674
0$
#770000
0%
#773487
1$
#775000
b110110 6
b10000000000000000000000000000000000000000000000000000000 :
0"
1!
1%
#780000
0%
#781300
0$
#785000
b110111 6
b0 :
1"
1!
1%
#789113
1$
#790000
0%
#795000
b0 ;
09
b111000 6
0"
1!
1%
#796926
0$
#800000
0%
#804739
1$
#805000
0!
1%
#810000
0%
#812552
0$
#815000
1%
#820000
0%
#820365
1$
#825000
1%
#828178
0$
#830000
0%
#835000
1%
#835991
1$
#840000
0%
#843804
0$
#845000
1%
#850000
0%
#851617
1$
#855000
1%
#859430
0$
#860000
0%
#865000
1%
#867243
1$
#870000
0%
#875000
1%
#875056
0$
#880000
0%
#882869
1$
#885000
1%
#890000
0%
#890682
0$
#895000
1%
#898495
1$
#900000
0%
#905000
1%
#906308
0$
#910000
0%
#914121
1$
#915000
1%
#920000
0%
#921934
0$
#925000
1%
#929747
1$
#930000
0%
#935000
1%
#937560
0$
#940000
0%
#945000
1%
#945373
1$
#950000
0%
#953186
0$
#955000
1%
#960000
0%
#960999
1$
#965000
1%
#968812
0$
#970000
0%
#975000
1%
#976625
1$
#980000
0%
#984438
0$
#985000
1%
#990000
0%
#992251
1$
#995000
1%
#1000000
0%
#1000064
0$
#1005000
1%
#1007877
1$
#1010000
0%
#1015000
1%
#1015690
0$
#1020000
0%
#1023503
1$
#1025000
1%
#1030000
0%
#1031316
0$
#1035000
1%
#1039129
1$
#1040000
0%
#1045000
1%
#1046942
0$
#1050000
0%
#1054755
1$
#1055000
1%
#1060000
0%
#1062568
0$
#1065000
1%
#1070000
0%
#1070381
1$
#1075000
1%
#1078194
0$
#1080000
0%
#1085000
1%
#1086007
1$
#1090000
0%
#1093820
0$
#1095000
1%
#1100000
0%
#1101633
1$
#1105000
1%
#1109446
0$
#1110000
0%
#1115000
1%
#1117259
1$
#1120000
0%
#1125000
1%
#1125072
0$
#1130000
0%
#1132885
1$
#1135000
1%
#1140000
0%
#1140698
0$
#1145000
1%
#1148511
1$
#1150000
0%
#1155000
1%
#1156324
0$
#1160000
0%
#1164137
1$
#1165000
1%
#1170000
0%
#1171950
0$
#1175000
1%
#1179763
1$
#1180000
0%
#1185000
1%
#1187576
0$
#1190000
0%
#1195000
1%
#1195389
1$
#1200000
0%
#1203202
0$
#1205000
1%
#1210000
0%
#1211015
1$
#1215000
1%
#1218828
0$
#1220000
0%
#1225000
1%
#1226641
1$
#1230000
0%
#1234454
0$
#1235000
1%
#1240000
0%
#1242267
1$
#1245000
1%
#1250000
0%
#1250080
0$
#1255000
1%
#1257893
1$
#1260000
0%
#1265000
1%
#1265706
0$
#1270000
0%
#1273519
1$
#1275000
1%
#1280000
0%
#1281332
0$
#1285000
1%
#1289145
1$
#1290000
0%
#1295000
1%
#1296958
0$
#1300000
0%
#1304771
1$
#1305000
1%
#1310000
0%
#1312584
0$
#1315000
1%
#1320000
0%
#1320397
1$
#1325000
1%
#1328210
0$
#1330000
0%
#1335000
1%
#1336023
1$
#1340000
0%
#1343836
0$
#1345000
1%
#1350000
0%
#1351649
1$
#1355000
1%
#1359462
0$
#1360000
0%
#1365000
1%
#1367275
1$
#1370000
0%
#1375000
1%
#1375088
0$
#1380000
0%
#1382901
1$
#1385000
1%
#1390000
0%
#1390714
0$
#1395000
1%
#1398527
1$
#1400000
0%
#1405000
1%
#1406340
0$
#1410000
0%
#1414153
1$
#1415000
1%
#1420000
0%
#1421966
0$
#1425000
1%
#1429779
1$
#1430000
0%
#1435000
1%
#1437592
0$
#1440000
0%
#1445000
1%
#1445405
1$
#1450000
0%
#1453218
0$
#1455000
1%
#1460000
0%
#1461031
1$
#1465000
1%
#1468844
0$
#1470000
0%
#1475000
1%
#1476657
1$
#1480000
0%
#1484470
0$
#1485000
1%
#1490000
0%
#1492283
1$
#1495000
1%
#1500000
0%
#1500096
0$
#1505000
1%
#1507909
1$
#1510000
0%
#1515000
1%
#1515722
0$
#1520000
0%
#1523535
1$
#1525000
1%
#1530000
0%
#1531348
0$
#1535000
1%
#1539161
1$
#1540000
0%
#1545000
1%
#1546974
0$
#1550000
0%
#1554787
1$
#1555000
1%
#1560000
0%
#1562600
0$
#1565000
1%
#1570000
0%
#1570413
1$
#1575000
1%
#1578226
0$
#1580000
0%
#1585000
1%
#1586039
1$
#1590000
0%
#1593852
0$
#1595000
1%
#1600000
0%
#1601665
1$
#1605000
1%
#1609478
0$
#1610000
0%
#1615000
1%
#1617291
1$
#1620000
0%
#1625000
1%
#1625104
0$
#1630000
0%
#1632917
1$
#1635000
1%
#1640000
0%
#1640730
0$
#1645000
1%
#1648543
1$
#1650000
0%
#1655000
1%
#1656356
0$
#1660000
0%
#1664169
1$
#1665000
1%
#1670000
0%
#1671982
0$
#1675000
1%
#1679795
1$
#1680000
0%
#1685000
1%
#1687608
0$
#1690000
0%
#1695000
1%
#1695421
1$
#1700000
0%
#1703234
0$
#1705000
1%
#1710000
0%
#1711047
1$
#1715000
1%
#1718860
0$
#1720000
0%
#1725000
1%
#1726673
1$
#1730000
0%
#1734486
0$
#1735000
1%
#1740000
0%
#1742299
1$
#1745000
1%
#1750000
0%
#1750112
0$
#1755000
1%
#1757925
1$
#1760000
0%
#1765000
1%
#1765738
0$
#1770000
0%
#1773551
1$
#1775000
1%
